{% extends 'dashboard/dashboard.html' %}
{% load static %}

{% block title %}Token | {{ block.super }}{% endblock %}

{% block links %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'dashboard/css/token.css' %}">
{% endblock %}

{% block dashboard %}
<div class="token-section">
  <h4 class="font-heading">Your API Token</h4>

  <div class="token-wrapper">
    <input type="password" id="api-token" value="{{ token }}" readonly class="token-input">
    <button type="button" class="btn btn-secondary show-token-btn" onclick="toggleTokenVisibility()">Show</button>
  </div>

  <small class="font-secondary">Use this token in your API requests (e.g. Postman)</small>
</div>

<script>
  function toggleTokenVisibility() {
    const input = document.getElementById('api-token');
    const button = document.querySelector('.show-token-btn');

    if (input.type === 'password') {
      input.type = 'text';
      button.textContent = 'Hide';
    } else {
      input.type = 'password';
      button.textContent = 'Show';
    }
  }
</script>

{% endblock %}
